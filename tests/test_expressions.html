<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test Multi-Word French Expressions - French Popup Extension</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      max-width: 900px;
      margin: 40px auto;
      padding: 20px;
      line-height: 2.5;
      background: #f5f5f5;
    }

    h1 {
      color: #2c3e50;
      border-bottom: 3px solid #3498db;
      padding-bottom: 10px;
    }

    h2 {
      color: #34495e;
      margin-top: 30px;
      background: #ecf0f1;
      padding: 10px;
      border-left: 4px solid #3498db;
    }

    .test-section {
      background: white;
      padding: 20px;
      margin: 15px 0;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .instruction {
      background: #fff3cd;
      border: 1px solid #ffc107;
      padding: 15px;
      margin: 20px 0;
      border-radius: 5px;
    }

    .test-item {
      margin: 20px 0;
      padding: 15px;
      background: #fafafa;
      border-left: 3px solid #ddd;
    }

    .test-text {
      font-size: 1.1em;
      margin: 10px 0;
      padding: 10px;
      background: white;
      border-radius: 4px;
    }

    .expected {
      color: #666;
      font-size: 0.9em;
      font-style: italic;
      margin-top: 8px;
      padding: 8px;
      background: #f0f0f0;
      border-radius: 3px;
    }

    .category {
      display: inline-block;
      background: #6c757d;
      color: white;
      padding: 3px 10px;
      border-radius: 3px;
      font-size: 0.85em;
      margin-right: 8px;
      margin-bottom: 5px;
    }

    .multi-word-cat {
      background: #4caf50;
    }

    .single-word-cat {
      background: #ff9800;
    }

    .no-lookup-cat {
      background: #f44336;
    }

    .arrow {
      color: #e91e63;
      font-weight: bold;
      font-size: 1.2em;
    }

    code {
      background: #e8f5e9;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Courier New', monospace;
      color: #2e7d32;
    }

    .highlight-instruction {
      background: #e3f2fd;
      padding: 10px;
      margin: 10px 0;
      border-radius: 4px;
      border-left: 3px solid #2196f3;
    }
  </style>
</head>
<body>
  <h1>üá´üá∑ Test Multi-Word French Expressions - DIVERSE SET</h1>

  <div class="instruction">
    <strong>Instructions:</strong> Hover over the words indicated by arrows (<span class="arrow">‚Üí</span>) to test the extension.
    <br>This file tests DIVERSE multi-word expressions across the alphabet.
    <br>All expressions verified to exist in fra-eng.idx dictionary.
  </div>

  <h2>Test Category 1: Food & Drink Expressions (P)</h2>
  <div class="test-section">
    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">‚Üí</span> J'adore la pomme de terre au four.
      </div>
      <div class="expected">
        <strong>Hover "pomme"</strong> ‚Üí Should show: <code>pomme de terre</code> (3 words)
      </div>
    </div>

    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">‚Üí</span> C'est une pomme de discorde entre eux.
      </div>
      <div class="expected">
        <strong>Hover "pomme"</strong> ‚Üí Should show: <code>pomme de discorde</code> (3 words)
      </div>
    </div>

    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">‚Üí</span> J'ai trouv√© une pomme de pin dans le jardin.
      </div>
      <div class="expected">
        <strong>Hover "pomme"</strong> ‚Üí Should show: <code>pomme de pin</code> (3 words)
      </div>
    </div>

    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">‚Üí</span> Il a une pomme d'adam pro√©minente.
      </div>
      <div class="expected">
        <strong>Hover "pomme"</strong> ‚Üí Should show: <code>pomme d'adam</code> (2 words)
      </div>
    </div>
  </div>

  <h2>Test Category 2: Path & Direction Expressions (C)</h2>
  <div class="test-section">
    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">‚Üí</span> Nous avons fait le chemin de croix ensemble.
      </div>
      <div class="expected">
        <strong>Hover "chemin"</strong> ‚Üí Should show: <code>chemin de croix</code> (3 words)
      </div>
    </div>

    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">‚Üí</span> Le chemin creux √©tait sombre.
      </div>
      <div class="expected">
        <strong>Hover "chemin"</strong> ‚Üí Should show: <code>chemin creux</code> (2 words)
      </div>
    </div>
  </div>

  <h2>Test Category 3: Legal & Rights Expressions (D)</h2>
  <div class="test-section">
    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">‚Üí</span> Il √©tudie le droit canonique √† l'universit√©.
      </div>
      <div class="expected">
        <strong>Hover "droit"</strong> ‚Üí Should show: <code>droit canonique</code> (2 words)
      </div>
    </div>

    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">‚Üí</span> Le droit civil est diff√©rent du droit p√©nal.
      </div>
      <div class="expected">
        <strong>Hover "droit"</strong> ‚Üí Should show: <code>droit civil</code> (2 words)
      </div>
    </div>
  </div>

  <h2>Test Category 4: Machines & Equipment (M)</h2>
  <div class="test-section">
    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">‚Üí</span> C'est une v√©ritable machine de guerre.
      </div>
      <div class="expected">
        <strong>Hover "machine"</strong> ‚Üí Should show: <code>machine de guerre</code> (3 words)
      </div>
    </div>

    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">‚Üí</span> Ils ont utilis√© une machine de si√®ge m√©di√©vale.
      </div>
      <div class="expected">
        <strong>Hover "machine"</strong> ‚Üí Should show: <code>machine de si√®ge</code> (3 words)
      </div>
    </div>
  </div>

  <h2>Test Category 5: Rooms & Spaces (S)</h2>
  <div class="test-section">
    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">‚Üí</span> Le laboratoire a une salle blanche pour les exp√©riences.
      </div>
      <div class="expected">
        <strong>Hover "salle"</strong> ‚Üí Should show: <code>salle blanche</code> (2 words)
      </div>
    </div>

    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">‚Üí</span> La salle capitulaire est magnifique.
      </div>
      <div class="expected">
        <strong>Hover "salle"</strong> ‚Üí Should show: <code>salle capitulaire</code> (2 words)
      </div>
    </div>

    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">‚Üí</span> Les tests acoustiques se font dans une salle an√©cho√Øque.
      </div>
      <div class="expected">
        <strong>Hover "salle"</strong> ‚Üí Should show: <code>salle an√©cho√Øque</code> (2 words)
      </div>
    </div>
  </div>

  <h2>Test Category 6: Transportation (T)</h2>
  <div class="test-section">
    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">‚Üí</span> Nous avons pris le train auto-couchettes.
      </div>
      <div class="expected">
        <strong>Hover "train"</strong> ‚Üí Should show: <code>train auto-couchettes</code> (2 words)
      </div>
    </div>

    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">‚Üí</span> Le train de gnl arrive demain.
      </div>
      <div class="expected">
        <strong>Hover "train"</strong> ‚Üí Should show: <code>train de gnl</code> (3 words)
      </div>
    </div>
  </div>

  <h2>Test Category 7: Languages & Communication (L)</h2>
  <div class="test-section">
    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">‚Üí</span> Le hongrois est une langue agglutinante.
      </div>
      <div class="expected">
        <strong>Hover "langue"</strong> ‚Üí Should show: <code>langue agglutinante</code> (2 words)
      </div>
    </div>

    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">‚Üí</span> L'arabe est une langue afro-asiatique.
      </div>
      <div class="expected">
        <strong>Hover "langue"</strong> ‚Üí Should show: <code>langue afro-asiatique</code> (2 words)
      </div>
    </div>
  </div>

  <h2>Test Category 8: Animals (V)</h2>
  <div class="test-section">
    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">‚Üí</span> La vache folle √©tait un probl√®me s√©rieux.
      </div>
      <div class="expected">
        <strong>Hover "vache"</strong> ‚Üí Should show: <code>vache folle</code> (2 words)
      </div>
    </div>

    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">‚Üí</span> C'est une vache laiti√®re productive.
      </div>
      <div class="expected">
        <strong>Hover "vache"</strong> ‚Üí Should show: <code>vache laiti√®re</code> (2 words)
      </div>
    </div>
  </div>

  <h2>Test Category 9: Water & Liquids (E)</h2>
  <div class="test-section">
    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">‚Üí</span> Le pr√™tre a asperg√© l'eau b√©nite.
      </div>
      <div class="expected">
        <strong>Hover "eau"</strong> ‚Üí Should show: <code>eau b√©nite</code> (2 words)
      </div>
    </div>

    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">‚Üí</span> La maison a l'eau courante moderne.
      </div>
      <div class="expected">
        <strong>Hover "eau"</strong> ‚Üí Should show: <code>eau courante</code> (2 words)
      </div>
    </div>
  </div>

  <h2>Test Category 10: Expressions with "noir" (N)</h2>
  <div class="test-section">
    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">‚Üí</span> C'√©tait noir comme dans un four l√†-dedans.
      </div>
      <div class="expected">
        <strong>Hover "noir"</strong> ‚Üí Should show: <code>noir comme dans un four</code> (5 words)
      </div>
    </div>

    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">‚Üí</span> Il faisait noir comme le po√™le.
      </div>
      <div class="expected">
        <strong>Hover "noir"</strong> ‚Üí Should show: <code>noir comme le po√™le</code> (4 words)
      </div>
    </div>
  </div>

  <h2>Test Category 11: Beautiful Expressions (B)</h2>
  <div class="test-section">
    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">‚Üí</span> √áa fait une belle lurette qu'on s'est vus!
      </div>
      <div class="expected">
        <strong>Hover "belle"</strong> ‚Üí Should show: <code>belle lurette</code> (2 words)
      </div>
    </div>

    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">‚Üí</span> C'est une belle personne.
      </div>
      <div class="expected">
        <strong>Hover "belle"</strong> ‚Üí Should show: <code>belle personne</code> (2 words)
      </div>
    </div>
  </div>

  <h2>Test Category 12: Mixed Real-World Paragraph</h2>
  <div class="test-section">
    <div class="test-item">
      <div class="test-text" style="line-height: 2.2;">
        Hier, j'ai pr√©par√© des pommes de terre pour le d√Æner. Mon ami √©tudie le droit civil
        √† l'universit√©. Il prend le train auto-couchettes chaque weekend. Sa s≈ìur travaille
        dans une salle blanche o√π elle teste des machines de guerre. C'est une belle personne
        qui parle une langue agglutinante. √áa fait une belle lurette qu'on se conna√Æt!
      </div>
      <div class="expected">
        <strong>Test each multi-word expression:</strong>
        <ul style="margin: 5px 0; padding-left: 20px;">
          <li>"pommes" ‚Üí <code>pommes de terre</code></li>
          <li>"droit" ‚Üí <code>droit civil</code></li>
          <li>"train" ‚Üí <code>train auto-couchettes</code></li>
          <li>"salle" ‚Üí <code>salle blanche</code></li>
          <li>"machines" ‚Üí <code>machines de guerre</code></li>
          <li>"belle" (1st) ‚Üí <code>belle personne</code></li>
          <li>"langue" ‚Üí <code>langue agglutinante</code></li>
          <li>"belle" (2nd) ‚Üí <code>belle lurette</code></li>
        </ul>
      </div>
    </div>
  </div>

  <h2>Performance Verification</h2>
  <div class="test-section">
    <div class="test-item">
      <div style="background: #e8f5e9; padding: 15px; border-radius: 5px; margin: 10px 0;">
        <h4 style="margin-top: 0;">‚úÖ Expected Behaviors Checklist:</h4>
        <ul style="line-height: 1.8;">
          <li>‚úì Diverse expressions across different starting letters (B, C, D, E, L, M, N, P, S, T, V)</li>
          <li>‚úì Expressions of varying lengths (2-5 words)</li>
          <li>‚úì All expressions verified to exist in fra-eng.idx</li>
          <li>‚úì LONGEST matching expression is always chosen (greedy)</li>
          <li>‚úì Falls back to single-word if no multi-word match exists</li>
          <li>‚úì Works with primary dictionary AND backup English dictionary</li>
          <li>‚úì Popup shows "multi-word expression (N words)" label</li>
        </ul>
      </div>
    </div>

    <div class="test-item">
      <div style="background: #fff3e0; padding: 15px; border-radius: 5px; margin: 10px 0;">
        <h4 style="margin-top: 0;">üîç Debugging Tips:</h4>
        <ul style="line-height: 1.8;">
          <li>Open browser console (F12) to see detailed logs</li>
          <li>Look for: <code>[Dict] Looking for multi-word expressions</code></li>
          <li>Check: <code>[Dict] Found multi-word match: X (N words)</code></li>
          <li>Verify backup fallback works for non-English target languages</li>
          <li>Test with Spanish target: expressions not in fra-spa but in fra-eng should show English fallback</li>
        </ul>
      </div>
    </div>
  </div>

</body>
</html>
