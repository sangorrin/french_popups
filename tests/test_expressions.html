<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test Multi-Word French Expressions - French Popup Extension</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      max-width: 900px;
      margin: 40px auto;
      padding: 20px;
      line-height: 2.5;
      background: #f5f5f5;
    }

    h1 {
      color: #2c3e50;
      border-bottom: 3px solid #3498db;
      padding-bottom: 10px;
    }

    h2 {
      color: #34495e;
      margin-top: 30px;
      background: #ecf0f1;
      padding: 10px;
      border-left: 4px solid #3498db;
    }

    .test-section {
      background: white;
      padding: 20px;
      margin: 15px 0;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .instruction {
      background: #fff3cd;
      border: 1px solid #ffc107;
      padding: 15px;
      margin: 20px 0;
      border-radius: 5px;
    }

    .test-item {
      margin: 20px 0;
      padding: 15px;
      background: #fafafa;
      border-left: 3px solid #ddd;
    }

    .test-text {
      font-size: 1.1em;
      margin: 10px 0;
      padding: 10px;
      background: white;
      border-radius: 4px;
    }

    .expected {
      color: #666;
      font-size: 0.9em;
      font-style: italic;
      margin-top: 8px;
      padding: 8px;
      background: #f0f0f0;
      border-radius: 3px;
    }

    .category {
      display: inline-block;
      background: #6c757d;
      color: white;
      padding: 3px 10px;
      border-radius: 3px;
      font-size: 0.85em;
      margin-right: 8px;
      margin-bottom: 5px;
    }

    .multi-word-cat {
      background: #4caf50;
    }

    .single-word-cat {
      background: #ff9800;
    }

    .no-lookup-cat {
      background: #f44336;
    }

    .arrow {
      color: #e91e63;
      font-weight: bold;
      font-size: 1.2em;
    }

    code {
      background: #e8f5e9;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Courier New', monospace;
      color: #2e7d32;
    }

    .highlight-instruction {
      background: #e3f2fd;
      padding: 10px;
      margin: 10px 0;
      border-radius: 4px;
      border-left: 3px solid #2196f3;
    }
  </style>
</head>
<body>
  <h1>ğŸ‡«ğŸ‡· Test Multi-Word French Expressions</h1>

  <div class="instruction">
    <strong>Instructions:</strong> Hover over the words indicated by arrows (<span class="arrow">â†’</span>) to test the extension.
    <br>No span tags are used, so the text flow is completely natural.
    <br>This tests the extension in real-world conditions.
  </div>

  <h2>Test Category 1: "arrÃªt" Multi-Word Expressions</h2>
  <div class="test-section">
    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">â†’</span> Je suis Ã  l'arrÃªt de bus maintenant.
      </div>
      <div class="expected">
        <strong>Hover "arrÃªt"</strong> â†’ Should show: <code>arrÃªt de bus</code> (3 words)
      </div>
    </div>

    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">â†’</span> Il a fait un arrÃªt de volÃ©e spectaculaire.
      </div>
      <div class="expected">
        <strong>Hover "arrÃªt"</strong> â†’ Should show: <code>arrÃªt de volÃ©e</code> (3 words)
      </div>
    </div>

    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">â†’</span> C'est un arrÃªt cardiaque trÃ¨s grave.
      </div>
      <div class="expected">
        <strong>Hover "arrÃªt"</strong> â†’ Should show: <code>arrÃªt cardiaque</code> (2 words)
      </div>
    </div>

    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">â†’</span> L'arrÃªt d'urgence a Ã©tÃ© activÃ© immÃ©diatement.
      </div>
      <div class="expected">
        <strong>Hover "arrÃªt"</strong> â†’ Should show: <code>arrÃªt d'urgence</code> (2 words)
      </div>
    </div>

    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">â†’</span> Il est en arrÃªt maladie cette semaine.
      </div>
      <div class="expected">
        <strong>Hover "arrÃªt"</strong> â†’ Should show: <code>arrÃªt maladie</code> (2 words)
      </div>
    </div>

    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">â†’</span> C'est un arrÃªt de mort programmÃ©.
      </div>
      <div class="expected">
        <strong>Hover "arrÃªt"</strong> â†’ Should show: <code>arrÃªt de mort</code> (3 words)
      </div>
    </div>

    <div class="test-item">
      <span class="category single-word-cat">Single-word expected</span>
      <div class="test-text">
        <span class="arrow">â†’</span> Il y a un arrÃªt ici.
      </div>
      <div class="expected">
        <strong>Hover "arrÃªt"</strong> â†’ Should show: <code>arrÃªt</code> (single word, no multi-word match)
      </div>
    </div>

    <div class="test-item">
      <span class="category no-lookup-cat">No lookup expected</span>
      <div class="test-text">
        Je suis Ã  l'arrÃªt de <span class="arrow">â†’</span> bus maintenant.
      </div>
      <div class="expected">
        <strong>Hover "bus"</strong> â†’ Should NOT show popup for multi-word (not first word)
      </div>
    </div>
  </div>

  <h2>Test Category 2: "arrÃªte" Expressions</h2>
  <div class="test-section">
    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">â†’</span> ArrÃªte tes salades maintenant!
      </div>
      <div class="expected">
        <strong>Hover "ArrÃªte"</strong> â†’ Should show: <code>arrÃªte tes salades</code> (3 words)
      </div>
    </div>

    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">â†’</span> ArrÃªte ton charre immÃ©diatement!
      </div>
      <div class="expected">
        <strong>Hover "ArrÃªte"</strong> â†’ Should show: <code>arrÃªte ton charre</code> (3 words)
      </div>
    </div>

    <div class="test-item">
      <span class="category single-word-cat">Single-word expected</span>
      <div class="test-text">
        <span class="arrow">â†’</span> ArrÃªte maintenant!
      </div>
      <div class="expected">
        <strong>Hover "ArrÃªte"</strong> â†’ Should show: <code>arrÃªte</code> (single word)
      </div>
    </div>

    <div class="test-item">
      <span class="category no-lookup-cat">No lookup expected</span>
      <div class="test-text">
        ArrÃªte tes <span class="arrow">â†’</span> salades maintenant!
      </div>
      <div class="expected">
        <strong>Hover "salades"</strong> â†’ Should NOT show multi-word popup (not first word)
      </div>
    </div>
  </div>

  <h2>Test Category 3: Complex 4-Word Expressions</h2>
  <div class="test-section">
    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected (4 words)</span>
      <div class="test-text">
        <span class="arrow">â†’</span> L'arrÃªt d'urgence du rÃ©acteur a Ã©tÃ© dÃ©clenchÃ©.
      </div>
      <div class="expected">
        <strong>Hover "arrÃªt"</strong> â†’ Should show: <code>arrÃªt d'urgence du rÃ©acteur</code> (4 words) or fall back to <code>arrÃªt d'urgence</code> (2 words)
      </div>
    </div>

    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected (4 words)</span>
      <div class="test-text">
        <span class="arrow">â†’</span> C'est un arrÃªt automatique du rÃ©acteur standard.
      </div>
      <div class="expected">
        <strong>Hover "arrÃªt"</strong> â†’ Should show: <code>arrÃªt automatique du rÃ©acteur</code> (4 words)
      </div>
    </div>

    <div class="test-item">
      <span class="category multi-word-cat">Multi-word expected</span>
      <div class="test-text">
        <span class="arrow">â†’</span> Il y a un arrÃªt de pÃ©nalitÃ© dans le match.
      </div>
      <div class="expected">
        <strong>Hover "arrÃªt"</strong> â†’ Should show: <code>arrÃªt de pÃ©nalitÃ©</code> (3 words)
      </div>
    </div>
  </div>

  <h2>Test Category 4: Real-World Paragraph Test</h2>
  <div class="test-section">
    <div class="test-item">
      <div class="test-text" style="line-height: 2.2;">
        Quand je suis arrivÃ© Ã  l'arrÃªt de bus, j'ai vu qu'il y avait un arrÃªt d'urgence du rÃ©acteur Ã  la centrale nuclÃ©aire.
        C'Ã©tait un arrÃªt Ã  froid, heureusement. Le conducteur a dÃ» faire un arrÃªt cardiaque de surprise!
        En attendant, j'ai pensÃ©: "ArrÃªte tes salades!" Ã  propos de toute cette situation absurde.
      </div>
      <div class="expected">
        <strong>Test each occurrence of "arrÃªt" or "ArrÃªte":</strong>
        <ul style="margin: 5px 0; padding-left: 20px;">
          <li>"arrÃªt" (1st) â†’ <code>arrÃªt de bus</code></li>
          <li>"arrÃªt" (2nd) â†’ <code>arrÃªt d'urgence du rÃ©acteur</code> or <code>arrÃªt d'urgence</code></li>
          <li>"arrÃªt" (3rd) â†’ <code>arrÃªt Ã  froid</code></li>
          <li>"arrÃªt" (4th) â†’ <code>arrÃªt cardiaque</code></li>
          <li>"ArrÃªte" (5th) â†’ <code>arrÃªte tes salades</code></li>
        </ul>
      </div>
    </div>
  </div>

  <h2>Test Category 5: Greedy Matching Verification</h2>
  <div class="test-section">
    <div class="highlight-instruction">
      <strong>Important:</strong> These tests verify that the algorithm chooses the LONGEST match
    </div>

    <div class="test-item">
      <span class="category multi-word-cat">Greedy test</span>
      <div class="test-text">
        <span class="arrow">â†’</span> Nous avons un arrÃªt de jeu prolongÃ©.
      </div>
      <div class="expected">
        <strong>Hover "arrÃªt"</strong> â†’ Should show <code>arrÃªt de jeu</code> (3 words), not just <code>arrÃªt</code> (1 word)
      </div>
    </div>

    <div class="test-item">
      <span class="category multi-word-cat">Greedy test</span>
      <div class="test-text">
        <span class="arrow">â†’</span> L'arrÃªt par braquage est dangereux.
      </div>
      <div class="expected">
        <strong>Hover "arrÃªt"</strong> â†’ Should show <code>arrÃªt par braquage</code> (3 words)
      </div>
    </div>

    <div class="test-item">
      <span class="category multi-word-cat">Greedy test</span>
      <div class="test-text">
        <span class="arrow">â†’</span> C'est un arrÃªt par Ã©puisement des ressources.
      </div>
      <div class="expected">
        <strong>Hover "arrÃªt"</strong> â†’ Should show <code>arrÃªt par Ã©puisement</code> (3 words), not including "des ressources"
      </div>
    </div>

    <div class="test-item">
      <span class="category multi-word-cat">Greedy test</span>
      <div class="test-text">
        <span class="arrow">â†’</span> L'arrÃªt Ã  chaud est prÃ©fÃ©rable.
      </div>
      <div class="expected">
        <strong>Hover "arrÃªt"</strong> â†’ Should show <code>arrÃªt Ã  chaud</code> (3 words)
      </div>
    </div>
  </div>

  <h2>Test Category 6: Edge Cases</h2>
  <div class="test-section">
    <div class="test-item">
      <span class="category">Edge case</span>
      <div class="test-text">
        <span class="arrow">â†’</span> Simple word: bonjour tout le monde!
      </div>
      <div class="expected">
        <strong>Hover "bonjour"</strong> â†’ Should show <code>bonjour</code> (single word)
      </div>
    </div>

    <div class="test-item">
      <span class="category">Edge case</span>
      <div class="test-text">
        Multiple words side by side: arrÃªt de bus
      </div>
      <div class="expected">
        <strong>Test each word separately:</strong> "arrÃªt" â†’ multi-word; "de" or "bus" â†’ no multi-word lookup
      </div>
    </div>

    <div class="test-item">
      <span class="category">Edge case</span>
      <div class="test-text">
        <span class="arrow">â†’</span> End of sentence: Il prend l'arrÃªt.
      </div>
      <div class="expected">
        <strong>Hover "arrÃªt"</strong> â†’ Should show <code>arrÃªt</code> (single word, no following text)
      </div>
    </div>

    <div class="test-item">
      <span class="category">Edge case</span>
      <div class="test-text">
        Partial match test: <span class="arrow">â†’</span> arrÃªt de pensÃ©e (assuming this doesn't exist)
      </div>
      <div class="expected">
        <strong>Hover "arrÃªt"</strong> â†’ Should fall back to <code>arrÃªt</code> (single word)
      </div>
    </div>
  </div>

  <h2>Performance Verification</h2>
  <div class="test-section">
    <div class="test-item">
      <div style="background: #e8f5e9; padding: 15px; border-radius: 5px; margin: 10px 0;">
        <h4 style="margin-top: 0;">âœ… Expected Behaviors Checklist:</h4>
        <ul style="line-height: 1.8;">
          <li>âœ“ Hovering the FIRST word shows the full multi-word expression</li>
          <li>âœ“ The LONGEST matching expression is always chosen (greedy)</li>
          <li>âœ“ Hovering non-first words doesn't trigger multi-word lookup</li>
          <li>âœ“ Falls back to single-word if no multi-word match exists</li>
          <li>âœ“ Popup shows "multi-word expression (N words)" label</li>
          <li>âœ“ Console logs show the matching process clearly</li>
          <li>âœ“ Works with uppercase/lowercase variations</li>
        </ul>
      </div>
    </div>

    <div class="test-item">
      <div style="background: #fff3e0; padding: 15px; border-radius: 5px; margin: 10px 0;">
        <h4 style="margin-top: 0;">ğŸ” Debugging Tips:</h4>
        <ul style="line-height: 1.8;">
          <li>Open browser console (F12) to see detailed logs</li>
          <li>Look for: <code>[Dict] Looking for multi-word expressions</code></li>
          <li>Check: <code>[Dict] Found multi-word match: X (N words)</code></li>
          <li>Verify: <code>[French Popups] Detected word data</code></li>
        </ul>
      </div>
    </div>
  </div>

</body>
</html>
